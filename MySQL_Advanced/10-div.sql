DELIMITER $$
CREATE FUNCTION SafeDiv (a INT, b INT)
    RETURNS DOUBLE DETERMINISTIC
    BEGIN
        RETURN IF(b=0, 0, a/b);
    END
$$
DELIMITER ;
